window.__require=function e(t,n,a){function r(o,c){if(!n[o]){if(!t[o]){var l=o.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+o+"'")}}var _=n[o]={exports:{}};t[o][0].call(_.exports,function(e){return r(t[o][1][e]||e)},_,_.exports,e,t,n,a)}return n[o].exports}for(var i="function"==typeof __require&&__require,o=0;o<a.length;o++)r(a[o]);return r}({CubeGameFSM:[function(e,t,n){"use strict";cc._RF.push(t,"4b7c05iT/VOV5B0/wdA7HLu","CubeGameFSM"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./StateMachine"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateName={SelectGame:"SelectGame",GameReady:"GameReady",GamePlay:"GamePlay",GameOver:"GameOver",GameWin:"GameWin",GameInit:"GameInit"},t.eventName={select:"select",game_play:"game_play",play_again:"play_again",time_out:"time_out",game_win:"game_win",goto_next:"goto_next",click_cube:"click_cube",back_select_game:"back_select_game"},t}return __extends(t,e),t.prototype.fsmTrigger=function(e){for(var t,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];(t=this.fsm)[e].apply(t,n)},t.prototype.fsmIs=function(e){return this.fsm.is(e)},t.prototype.fsmCan=function(e){return this.fsm.can(e)},t.prototype.fsmCannot=function(e){return this.fsm.cannot(e)},t.prototype.fsmCurrent=function(){return this.fsm.current},t.prototype.fsmStartUp=function(){this.fsm=a.default.create({initial:"SelectGame",events:[{name:"select",from:"SelectGame",to:"GameInit"},{name:"game_play",from:"GameReady",to:"GamePlay"},{name:"play_again",from:"GameOver",to:"GameInit"},{name:"time_out",from:"GamePlay",to:"GameOver"},{name:"game_win",from:"GamePlay",to:"GameWin"},{name:"goto_next",from:"GameWin",to:"GameOver"},{name:"click_cube",from:"GamePlay",to:"GamePlay"},{name:"back_select_game",from:"GameOver",to:"SelectGame"},{name:"goto_next",from:"GameInit",to:"GameReady"}],callbacks:{onenterSelectGame:[this.enter_select_game],onleaveSelectGame:[this.leave_select_game],onenterGameReady:[this.enter_game_ready],onleaveGameReady:[this.leave_game_ready],onenterGamePlay:[this.enter_game_play],onleaveGamePlay:[this.leave_game_play],onenterGameOver:[this.enter_game_over],onleaveGameOver:[this.leave_game_over],onenterGameWin:[this.enter_game_win],onleaveGameWin:[this.leave_game_win],onenterGameInit:[this.enter_game_init],onleaveGameInit:[this.leave_game_init],onbeforeselect:{SelectGame:[this.action_select]},onbeforegame_play:{GameReady:[this.action_game_play]},onbeforeclick_cube:{GamePlay:[this.action_click_cube]},onenterstate:[this.global_enter],onleavestate:[this.global_leave],onbeforeevent:[this.global_before],onafterevent:[this.global_after]}},this)},t.prototype.select=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.fsm).select.apply(e,t)},t.prototype.game_play=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.fsm).game_play.apply(e,t)},t.prototype.play_again=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.fsm).play_again.apply(e,t)},t.prototype.time_out=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.fsm).time_out.apply(e,t)},t.prototype.game_win=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.fsm).game_win.apply(e,t)},t.prototype.goto_next=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.fsm).goto_next.apply(e,t)},t.prototype.click_cube=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.fsm).click_cube.apply(e,t)},t.prototype.back_select_game=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.fsm).back_select_game.apply(e,t)},t}(cc.Component);n.default=r,cc._RF.pop()},{"./StateMachine":"StateMachine"}],GameMgr:[function(e,t,n){"use strict";cc._RF.push(t,"e14bari4MxKG4zaICPz1sYz","GameMgr"),Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,i=a.property,o=a.help,c=e("./fsm/CubeGameFSM"),l=e("./Timer"),s=e("./PlayChangeColor"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scene_ng="ng",t._game_level=0,t.level_timer=[],t.level_cube_count=[],t.prefab_select_game=null,t.prefab_ui=null,t.prefab_ready_anime=null,t.prefab_cube=null,t.prefab_game_over_anime=null,t.prefab_game_win_anime=null,t.prefab_btn_back_select_game=null,t.canvas=null,t._cube_array=[],t._cube_target=0,t._god_index=0,t}return __extends(t,e),t.prototype.start=function(){try{this.fsmStartUp()}catch(e){cc.error(e)}},t.prototype.playCubeBoom=function(e){e.stopAllActions(),e.removeComponent(cc.Button);var t=e.getComponent(cc.Animation);t.on("finished",function(t){e.destroy()},this),t.play();var n=this.level_cube_count[this._game_level-1];this._cube_array[this._cube_target-1]=null,this._cube_target+=1,this._cube_target>n?this.fireEvent("game_win"):this.canvas.getChildByName("ui").getChildByName("label_next").getComponent(cc.Label).string="Next: "+this._cube_target},t.prototype.god=function(e,t){var n=this;this._god_index=0,e.target.stopAllActions(),e.target.runAction(cc.sequence(cc.delayTime(1/this._cube_array.length),cc.callFunc(function(){cc.log(n._god_index);var e=n._cube_array[n._god_index];e&&n.playCubeBoom(e),n._god_index+=1})).repeat(this._cube_array.length))},t.prototype.fireEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];cc.log(this.name+".fireEvent : event:"+e+", data:"+t);try{this.fsmTrigger(e,t)}catch(e){cc.error(e)}},t.prototype.enter_select_game=function(e,t,n){for(var a=this,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];cc.log(this.name+".enter_select_game : args:"+r);var o=cc.instantiate(this.prefab_select_game);o.getChildByName("btn_level1").getComponent(cc.Button).node.on("click",function(e){a._game_level=1,a.fireEvent("select")},this),o.getChildByName("btn_level2").getComponent(cc.Button).node.on("click",function(e){a._game_level=2,a.fireEvent("select")},this),o.getChildByName("btn_level3").getComponent(cc.Button).node.on("click",function(e){a._game_level=3,a.fireEvent("select")},this),this.canvas.addChild(o,0,"select_game")},t.prototype.leave_select_game=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];this.canvas.removeChild(this.canvas.getChildByName("select_game"))},t.prototype.enter_game_init=function(e,t,n){for(var a=this,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];cc.log(this.name+".enter_game_init : args:"+r),this._cube_target=1,this.canvas.removeChild(this.canvas.getChildByName("ui"));var o=this.level_timer[this._game_level-1],c=cc.instantiate(this.prefab_ui);c.getChildByName("label_time").getComponent(cc.Label).string="Time: "+o,c.getChildByName("label_level").getComponent(cc.Label).string="Level: "+this._game_level,c.getChildByName("label_next").getComponent(cc.Label).string="Next: "+this._cube_target,this.canvas.addChild(c,1,"ui");for(var l=0,s=this._cube_array;l<s.length;l++){var _=s[l];_&&_.destroy()}this._cube_array=[];for(var u=this.level_cube_count[this._game_level-1],p=function(e){var t=cc.instantiate(h.prefab_cube);t.on("click",function(e){t.name==a._cube_target.toString()&&a.playCubeBoom(t)},h),t.getChildByName("label_id").getComponent(cc.Label).string=e.toString(),t.getComponent(cc.Button).interactable=!1,h.canvas.addChild(t,0,""+e),h._cube_array.push(t)},h=this,m=1;m<=u;m++)p(m);this.fireEvent("goto_next")},t.prototype.leave_game_init=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log(this.name+".leave_game_init : args:"+a)},t.prototype.enter_game_ready=function(e,t,n){for(var a=this,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];cc.log(this.name+".enter_game_ready : args:"+r);var o=cc.instantiate(this.prefab_ready_anime);o.getComponent(cc.Animation).on("finished",function(e){a.fireEvent("game_play")},this),this.canvas.addChild(o,0,"ready_anime")},t.prototype.leave_game_ready=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log(this.name+".leave_game_ready : args:"+a),this.canvas.removeChild(this.canvas.getChildByName("ready_anime"))},t.prototype.enter_game_play=function(e,t,n){for(var a=this,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];cc.log(this.name+".enter_game_play : args:"+r);var o=this.level_timer[this._game_level-1];this._game_level>=2&&(this.canvas.getChildByName("sprite_BG").addComponent(s.default).game_timer=o);this.canvas.getChildByName("ui").getChildByName("label_time").getComponent(l.default).startTimer(o,function(){a.fireEvent("time_out")});for(var c=function(e){if(e){e.getComponent(cc.Button).interactable=!0;var t=cc.sequence(cc.callFunc(function(){e.runAction(cc.moveTo(1,cc.v2(a.node.getContentSize().width/2+Math.random()*cc.winSize.width-a.node.getContentSize().width/2-cc.winSize.width/2,a.node.getContentSize().height/2+Math.random()*cc.winSize.height-a.node.getContentSize().height/2-cc.winSize.height/2)))},_),cc.delayTime(1),cc.delayTime(2));e.runAction(t.repeatForever())}},_=this,u=0,p=this._cube_array;u<p.length;u++){c(p[u])}},t.prototype.leave_game_play=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log(this.name+".leave_game_play : args:"+a)},t.prototype.enter_game_over=function(e,t,n){for(var a=this,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];cc.log(this.name+".enter_game_over : args:"+r),this.canvas.getChildByName("sprite_BG").removeComponent(s.default);var o=cc.instantiate(this.prefab_game_over_anime);o.on("click",function(e){a.fireEvent("play_again")},this),this.canvas.addChild(o,0,"game_over_anime");for(var c=0,l=this._cube_array;c<l.length;c++){var _=l[c];_&&(_.removeComponent(cc.Button),_.stopAllActions())}var u=cc.instantiate(this.prefab_btn_back_select_game);u.on("click",function(e){a.fireEvent("back_select_game")},this),this.canvas.addChild(u,0,"btn_back_select_game")},t.prototype.leave_game_over=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log(this.name+".leave_game_over : args:"+a),this.canvas.removeChild(this.canvas.getChildByName("game_over_anime")),this.canvas.removeChild(this.canvas.getChildByName("btn_back_select_game"))},t.prototype.enter_game_win=function(e,t,n){for(var a=this,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];cc.log(this.name+".enter_game_win : args:"+r);var o=cc.instantiate(this.prefab_game_win_anime);o.on("click",function(e){a.fireEvent("play_again")},this),this.canvas.addChild(o,0,"game_win_anime"),this.canvas.getChildByName("ui").getChildByName("label_time").removeComponent(l.default),this.fireEvent("goto_next")},t.prototype.leave_game_win=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log(this.name+".leave_game_win : args:"+a),this.canvas.removeChild(this.canvas.getChildByName("game_win_anime"))},t.prototype.action_select=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log(this.name+".action_select : args:"+a)},t.prototype.action_game_play=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log(this.name+".action_game_play : args:"+a)},t.prototype.action_click_cube=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log(this.name+".action_click_cube : args:"+a)},t.prototype.global_enter=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r]},t.prototype.global_leave=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r]},t.prototype.global_before=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r]},t.prototype.global_after=function(e,t,n){for(var a=[],r=3;r<arguments.length;r++)a[r-3]=arguments[r];cc.log("global_after("+e+","+t+","+n+","+a+")"),this.getComponent(cc.Label).string="State: "+n},__decorate([i],t.prototype,"scene_ng",void 0),__decorate([i],t.prototype,"_game_level",void 0),__decorate([i([cc.Integer])],t.prototype,"level_timer",void 0),__decorate([i([cc.Integer])],t.prototype,"level_cube_count",void 0),__decorate([i(cc.Prefab)],t.prototype,"prefab_select_game",void 0),__decorate([i(cc.Prefab)],t.prototype,"prefab_ui",void 0),__decorate([i(cc.Prefab)],t.prototype,"prefab_ready_anime",void 0),__decorate([i(cc.Prefab)],t.prototype,"prefab_cube",void 0),__decorate([i(cc.Prefab)],t.prototype,"prefab_game_over_anime",void 0),__decorate([i(cc.Prefab)],t.prototype,"prefab_game_win_anime",void 0),__decorate([i(cc.Prefab)],t.prototype,"prefab_btn_back_select_game",void 0),__decorate([i(cc.Node)],t.prototype,"canvas",void 0),__decorate([i([cc.Node])],t.prototype,"_cube_array",void 0),__decorate([i(cc.Integer)],t.prototype,"_cube_target",void 0),__decorate([i(cc.Integer)],t.prototype,"_god_index",void 0),t=__decorate([r,o("https://forum.cocos.com/t/cocos-creator-typescript/46515")],t)}(c.default);n.default=_,cc._RF.pop()},{"./PlayChangeColor":"PlayChangeColor","./Timer":"Timer","./fsm/CubeGameFSM":"CubeGameFSM"}],LanguageData:[function(e,t,n){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var a=e("polyglot.min"),r=null;function i(e){return window.i18n.languages[e]}function o(e){e&&(r?r.replace(e):r=new a({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=i(e)||{};window.i18n.curLang=e,o(t),this.inst=r}},t:function(e,t){if(r)return r.t(e,t)},inst:r,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],n=0;n<e.length;++n){var a=e[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,a)}for(var r=0;r<t.length;++r){t[r].updateLabel()}for(var i=[],o=0;o<e.length;++o){var c=e[o].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(i,c)}for(var l=0;l<i.length;++l){i[l].updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(e,t,n){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var a=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){a.inst||a.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?a.t(this.dataID)&&(this.label.string=a.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,n){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var a=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:a}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],PlayChangeColor:[function(e,t,n){"use strict";cc._RF.push(t,"eccbcfxN75Iuo0bdDX3/S6e","PlayChangeColor"),Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,i=a.property,o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._color_bg=cc.Color.WHITE,t._tint_time=2,t._tint_delta=2,t.game_timer=2,t}return __extends(t,e),t.prototype.start=function(){this._tint_delta=this._tint_time,this.startRandom()},t.prototype.randomRGB=function(){this._color_bg=cc.color(256*Math.random(),256*Math.random(),256*Math.random())},t.prototype.startRandom=function(){cc.log(this.name+": startRandom"),this.node.runAction(cc.sequence(cc.callFunc(this.randomRGB,this),cc.tintTo(this._tint_delta,this._color_bg.getR(),this._color_bg.getG(),this._color_bg.getB()),cc.callFunc(this.startRandom,this)))},t.prototype.update=function(e){this._tint_delta>.1&&(this._tint_delta-=this._tint_time*e/this._tint_time*this._tint_time/this.game_timer,this._tint_delta<.1&&(this._tint_delta=.1))},t.prototype.onDestroy=function(){this.node.stopAllActions(),this.node.runAction(cc.tintTo(.5,133,133,133))},__decorate([i],t.prototype,"_color_bg",void 0),__decorate([i],t.prototype,"_tint_time",void 0),__decorate([i],t.prototype,"_tint_delta",void 0),__decorate([i],t.prototype,"game_timer",void 0),t=__decorate([r],t)}(cc.Component);n.default=o,cc._RF.pop()},{}],SpriteFrameSet:[function(e,t,n){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var a=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=a,cc._RF.pop()},{}],StateMachine:[function(e,t,n){"use strict";cc._RF.push(t,"0d223f1Ea1OkaVt9j2bTGRJ","StateMachine"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.create=function(t,n){var a="string"==typeof t.initial?{state:t.initial}:t.initial,r=t.terminal||t.final,i=n,o=t.events||[],c=t.callbacks||{},l={},s={},_=function(t){var n=Array.isArray(t.from)?t.from:t.from?[t.from]:[e.WILDCARD];l[t.name]=l[t.name]||{};for(var a=0;a<n.length;a++)s[n[a]]=s[n[a]]||[],s[n[a]].push(t.name),l[t.name][n[a]]=t.to||n[a];t.to&&(s[t.to]=s[t.to]||[])};a&&(a.event=a.event||"startup",_({name:a.event,from:"none",to:a.state}));for(var u=0;u<o.length;u++)_(o[u]);for(var p in l)l.hasOwnProperty(p)&&(i[p]=e.buildEvent(p,l[p]));for(var p in c)c.hasOwnProperty(p)&&(i[p]=c[p]);return i.current="none",i.is=function(e){return Array.isArray(e)?e.indexOf(this.current)>=0:this.current===e},i.can=function(t){return!this.transition&&void 0!==l[t]&&(l[t].hasOwnProperty(this.current)||l[t].hasOwnProperty(e.WILDCARD))},i.cannot=function(e){return!this.can(e)},i.transitions=function(){return(s[this.current]||[]).concat(s[e.WILDCARD]||[])},i.isFinished=function(){return this.is(r)},i.error=t.error||function(e,t,n,a,r,i,o){throw o||i},i.states=function(){return Object.keys(s).sort()},a&&!a.defer&&i[a.event](),i},e.doCallback=function(t,n,a,r,i,o){if(n)try{if(Array.isArray(n)){for(var c=0,l=n.length;c<l;c++)n[c].apply(t,[a,r,i].concat(o));return!0}for(c=0,l=n[r].length;c<l;c++)n[r][c].apply(t,[a,r,i].concat(o));return!0}catch(n){return t.error(a,r,i,o,e.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",n),!0}return!0},e.beforeAnyEvent=function(t,n,a,r,i){return e.doCallback(t,t.onbeforeevent,n,a,r,i)},e.afterAnyEvent=function(t,n,a,r,i){return e.doCallback(t,t.onafterevent||t.onevent,n,a,r,i)},e.leaveAnyState=function(t,n,a,r,i){return e.doCallback(t,t.onleavestate,n,a,r,i)},e.enterAnyState=function(t,n,a,r,i){return e.doCallback(t,t.onenterstate||t.onstate,n,a,r,i)},e.changeState=function(t,n,a,r,i){return e.doCallback(t,t.onchangestate,n,a,r,i)},e.beforeThisEvent=function(t,n,a,r,i){return e.doCallback(t,t["onbefore"+n],n,a,r,i)},e.afterThisEvent=function(t,n,a,r,i){return e.doCallback(t,t["onafter"+n]||t["on"+n],n,a,r,i)},e.leaveThisState=function(t,n,a,r,i){return e.doCallback(t,t["onleave"+a],n,a,r,i)},e.enterThisState=function(t,n,a,r,i){return e.doCallback(t,t["onenter"+r]||t["on"+r],n,a,r,i)},e.beforeEvent=function(t,n,a,r,i){return!1!==e.beforeThisEvent(t,n,a,r,i)&&!1!==e.beforeAnyEvent(t,n,a,r,i)},e.afterEvent=function(t,n,a,r,i){e.afterThisEvent(t,n,a,r,i),e.afterAnyEvent(t,n,a,r,i)},e.leaveState=function(t,n,a,r,i){var o=e.leaveThisState(t,n,a,r,i),c=e.leaveAnyState(t,n,a,r,i);return!1!==o&&!1!==c&&(typeof e.ASYNC!=typeof o&&typeof e.ASYNC!=typeof c||e.ASYNC)},e.enterState=function(t,n,a,r,i){e.enterThisState(t,n,a,r,i),e.enterAnyState(t,n,a,r,i)},e.buildEvent=function(t,n){return function(){var a=this.current,r=n[a]||(n[e.WILDCARD]!=e.WILDCARD?n[e.WILDCARD]:a)||a,i=Array.prototype.slice.call(arguments);if(this.transition)return this.error(t,a,r,i,e.Error.PENDING_TRANSITION,"event "+t+" inappropriate because previous transition did not complete");if(this.cannot(t))return this.error(t,a,r,i,e.Error.INVALID_TRANSITION,"event "+t+" inappropriate in current state "+this.current);if(!1===e.beforeEvent(this,t,a,r,i))return e.Result.CANCELLED;if(a===r)return e.afterEvent(this,t,a,r,i),e.Result.NOTRANSITION;var o=this;this.transition=function(){return o.transition=null,o.current=r,e.enterState(o,t,a,r,i),e.changeState(o,t,a,r,i),e.afterEvent(o,t,a,r,i),e.Result.SUCCEEDED},this.transition.cancel=function(){o.transition=null,e.afterEvent(o,t,a,r,i)};var c=e.leaveState(this,t,a,r,i);return!1===c?(this.transition=null,e.Result.CANCELLED):e.ASYNC===c?e.Result.PENDING:this.transition?this.transition():void 0}},e.VERSION="2.4.0",e.Result={SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},e.Error={INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},e.WILDCARD="*",e.ASYNC="async",e}();n.default=a,cc._RF.pop()},{}],Timer:[function(e,t,n){"use strict";cc._RF.push(t,"6f326ixHvBPxr5QMxvWsUjp","Timer"),Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,i=a.property,o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._end_time=0,t.onTimeOut=null,t}return __extends(t,e),t.prototype.startTimer=function(e,t){this._end_time=e,this.onTimeOut=t},t.prototype.update=function(e){this._end_time>0&&(this._end_time-=e,this._end_time<0&&(this._end_time=0,null!=this.onTimeOut&&this.onTimeOut()),this.getComponent(cc.Label).string="Time: "+Math.floor(this._end_time).toString())},__decorate([i],t.prototype,"_end_time",void 0),__decorate([i],t.prototype,"onTimeOut",void 0),t=__decorate([r],t)}(cc.Component);n.default=o,cc._RF.pop()},{}],"polyglot.min":[function(e,t,n){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,r){"function"==typeof define&&define.amd?define([],function(){return r(e)}):"object"==(void 0===n?"undefined":a(n))?t.exports=r(e):e.Polyglot=r(e)})(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||i}function n(e,t,n){var a,i;return null!=n&&e?a=function(e){return e.replace(/^\s+|\s+$/g,"")}((i=e.split(o))[r(t,n)]||i[0]):a=e,a}function r(e,t){return c[function(e){var t=function(e){var t,n,a,r={};for(t in e)if(e.hasOwnProperty(t))for(a in n=e[t])r[n[a]]=t;return r}(l);return t[e]||t.en}(e)](t)}function i(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var n;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],t&&(r=t+"."+r),"object"==(void 0===n?"undefined":a(n))?this.extend(n,r):this.phrases[r]=n)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var a,r;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?a=this.phrases[e]:"string"==typeof t._?a=t._:this.allowMissing?a=e:(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof a&&(t=function(e){var t={};for(var n in e)t[n]=e[n];return t}(t),r=function(e,t){for(var n in t)"_"!==n&&t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%\\{"+n+"\\}","g"),t[n]));return e}(r=n(a,this.currentLocale,t.smart_count),t)),r},t.prototype.has=function(e){return e in this.phrases};var o="||||",c={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},l={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}]},{},["LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min","GameMgr","PlayChangeColor","Timer","CubeGameFSM","StateMachine"]);